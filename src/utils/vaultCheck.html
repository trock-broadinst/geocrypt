<!DOCTYPE html>
<html>

<head>
    <title>Unlock GeoCrypt</title>
    <script src="https://cdn.jsdelivr.net/gh/gildas-lormeau/zip.js@2.7.6/dist/zip-full.min.js"
        integrity="sha384-kP13zeVm0yhzyaXbBlr4UV6cM9+M8TUBI7j2A6z2mVgyxTqchjok1k1mQGI8Le5C" crossorigin="anonymous"
        referrerpolicy="no-referrer"></script>
    <script>
        const version = "2.0.0";
        const blobString = "PK3�	c�=]®V������������
�8�source.rtfô��AE�UT�GYd
� �������‡H†√ÅŸ‡H†√ÅŸ‡H†√ÅŸ:˝¥]°aΩ±ÿR√˙SB$”Ëmñ |¢ˇãyøåàæ„>kh9Ê2“CãÜ9µÀ‰\Æ;W]”Ib®lHQ!•dÅ≥¢å +, úÅ¶”iŸeö -¿√ø‡€°w8ÖF`Ñgãì»Â2-J∂Eâ›£àË¶†}{€A"Î
◊|ï#?>ØEêÄ-<åU±Iß_c2‡d‚ôÀå∞§ÿX∑ùÂ‚l¡ z:"Ï)Où–ü]1“»
Ù:}V1ûπ¡∏mì‹’–Éˆıåc©n£—u°À–>iMı5£)c÷ókÍRéÔÉ‡e¡ÌFîÆÊœ‘µ£ÅóÉﬁ—‡c∫.ˇ´…ˇ”¡Fı pcQﬁÓ¿‹NÆ¥oôá2~„†3x≥Áß¶€S3RÏv#˜ƒ˛ª‘r¬JßˆLÀ_√€Lœ'H’*√™ƒ
c7ªÇ¸cEƒ√ê!¸>B‰R����Y����PK�3�	c�=]®V����Y����
�8���������������source.rtfô��AE�UT�GYd
� �������‡H†√ÅŸ‡H†√ÅŸ‡H†√ÅŸPK������p���≈����";
        const loadFiles = async () => {
            var gcPassword = document.getElementById("passwordBox").value;
            fetch(blobString)
                .then(res => res.blob())
                .then(fileBlob => {
                    if (fileBlob) {
                        const zipFileReader = new window.zip.BlobReader(fileBlob);
                        const zipReader = new window.zip.ZipReader(zipFileReader);

                        zipReader.getEntries().then((zipFiles) => {
                            zipFiles.forEach(async function (file) {
                                const link = document.createElement("a");
                                link.href = "#";
                                link.onclick = function () {
                                    if (!file.getData) return;
                                    const writer = new window.zip.BlobWriter();
                                    file.getData(writer, { password: gcPassword }).then(function (fileData) {
                                        const anchor = document.createElement("a");
                                        const clickEvent = new MouseEvent("click");
                                        anchor.href = URL.createObjectURL(fileData);
                                        anchor.download = file.filename;
                                        anchor.dispatchEvent(clickEvent);
                                    });
                                };
                                link.innerHTML = file.filename;
                                const listEl = document.createElement("li")
                                listEl.appendChild(link);
                                document.getElementById("fileList").appendChild(listEl);
                            });
                        });
                        // await zipReader.close();//TODO: you may not be able to close this because files would need loading
                    }
                })
        }
    </script>
</head>
<style>
    body {
        font-family: tahoma;
        border: 1px solid black;
        width: 30%;
        margin: auto;
    }
</style>

<body>
    <h1>Open GeoCrypt</h1>
    <p>Enter GeoCrypt Password.</p><input type="text" id="passwordBox" name="passwordBox"
        placeholder="Type Password Here"> <button onclick="loadFiles()">Open</button>
    <ol id="fileList"></ol>

</html>