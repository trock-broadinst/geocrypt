(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(54304)}])},54304:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(85893),i=t(22274),s=t.n(i),o=t(9008),a=t.n(o),l=t(25675),c=t.n(l),d=t(59854),p=t.n(d),h=t(67294),m=t(64974),u=t(54155),f=t.n(u),w=t(41664),y=t.n(w),x=t(84841),g=t(38486),v=t.n(g);t(81486);var b=t(21876).Buffer;let j=new(f());function _(){let e=h.useRef(null),n=h.useRef(null),t=h.useRef(null),[i,o]=h.useState([]),l=e=>{o(i.filter(n=>n.id!==e))},d=()=>{var r,i;let s=null===(r=e.current)||void 0===r?void 0:r.value,o=null===(i=n.current)||void 0===i?void 0:i.value,a=t.current,l=!1,c=e=>{a&&(l=!0,a.innerHTML="",e.forEach(e=>{let n=document.createElement("p");n.setAttribute("style","color: red"),n.innerHTML=e,a.appendChild(n)}))};if(!s||!o)return c(["please confirm password"]);if(s!==o)return c(["passwords do not match"]);let d=j.validate(s,{details:!0});if("boolean"!=typeof d&&d.length>0&&c(d.map(e=>e.message)),!l)return s};h.useEffect(()=>{let e=e=>{"Enter"===e.key&&u()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let u=async()=>{var e;let n=d();if(!n||!t.current)return;let r=await showSaveFilePicker({suggestedName:"geocrypt-".concat(Date.now().toString(),".html"),types:[{accept:{"text/html":[".html"]}}],excludeAcceptAllOption:!1}),s=await r.createWritable();t.current.innerHTML="";let o=document.createElement("progress");o.value=0,o.max=0,t.current.appendChild(o);let a=new AbortController,l=a.signal,c=document.createElement("button");c.onclick=()=>{a.abort("Aborted by user"),o.remove(),c.remove(),p.remove()},c.textContent="✖",c.title="Abort",t.current.appendChild(c);let p=document.createElement("p");p.textContent="Compressing...",null===(e=t.current)||void 0===e||e.appendChild(p);let h={password:n,signal:l,onstart(e){o.max=e},onprogress(e,n){o.value=e,o.max=n}},m=new x._Q(new x.U5("application/zip"),{bufferedWrite:!0});await Promise.all(i.map(e=>e.file&&m.add(e.file.name,new x.Nt(e.file),h))),await s.write('<!DOCTYPE html>\n<html>\n\n<head>\n    <title>Unlock GeoCrypt</title>\n    <script src="https://cdn.jsdelivr.net/gh/gildas-lormeau/zip.js@2.7.6/dist/zip-full.min.js"\n        integrity="sha384-kP13zeVm0yhzyaXbBlr4UV6cM9+M8TUBI7j2A6z2mVgyxTqchjok1k1mQGI8Le5C"\n        crossorigin="anonymous" referrerpolicy="no-referrer"></script>\n    <script>\n        const version = "2.0.0";\n        const blobString = "data:application/zip;base64,'),await m.close().then(e=>e.arrayBuffer()).then(e=>v().encode(b.from(e))).then(e=>s.write(e)).then(()=>s.write('";\nconst loadFiles = async () => {\n    const gcPassword = document.getElementById("passwordBox").value;\n    fetch(blobString)\n        .then(res => res.blob())\n        .then(fileBlob => {\n            if (fileBlob) {\n                const zipFileReader = new window.zip.BlobReader(fileBlob);\n                const zipReader = new window.zip.ZipReader(zipFileReader);\n\n                zipReader.getEntries().then((zipFiles) => {\n                    document.getElementById("fileList").innerHTML = "";\n                    zipFiles.forEach(async function (file) {\n                        const link = document.createElement("a");\n                        link.href = "#";\n                        link.onclick = function () {\n                            if (!file.getData) return;\n                            const writer = new window.zip.BlobWriter();\n                            file.getData(writer, { password: gcPassword }).then(function (fileData) {\n                                const anchor = document.createElement("a");\n                                const clickEvent = new MouseEvent("click");\n                                anchor.href = URL.createObjectURL(fileData);\n                                anchor.download = file.filename;\n                                anchor.dispatchEvent(clickEvent);\n                            }).catch(err => alert(err));\n                        };\n                        link.innerHTML = file.filename;\n                        const listEl = document.createElement("li")\n                        listEl.appendChild(link);\n                        document.getElementById("fileList").appendChild(listEl);\n                    });\n                });\n                // await zipReader.close();//TODO: you may not be able to close this because files would need loading\n            }\n        })\n}\n</script>\n</head>\n<style>\nbody {\nfont-family: tahoma;\nborder: 1px solid black;\nwidth: 30%;\nmargin: auto;\n}\n</style>\n\n<body>\n<h1>Open GeoCrypt</h1>\n<p>Enter GeoCrypt Password.</p><input type="text" id="passwordBox" name="passwordBox"\nplaceholder="Type Password Here"> <button onclick="loadFiles()">Open</button>\n<ol id="fileList"></ol>\n<hr>\n<a href="https://geocrypt.me">Made with GeoCrypt</a>\n<p>warning: may not work with large files on firefox</p>\n</body>\n<script>\ndocument.getElementById("passwordBox").addEventListener("keypress", function(event) {\n    if (event.key === "Enter") {\n      event.preventDefault();\n      loadFiles()\n    }\n});\n</script>\n</html>')).then(()=>s.close()).finally(()=>{o.remove(),c.remove(),p.remove()}).catch(e=>alert(e))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"GeoCrypt"}),(0,r.jsx)("meta",{name:"description",content:"Encrypt files online free"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.svg"})]}),(0,r.jsxs)("main",{className:"".concat(p().main," ").concat(s().className),children:[(0,r.jsx)(c(),{src:"/geoCrypt.svg",alt:"GeoCrypt Logo",width:300,height:300,priority:!0}),(0,r.jsx)("h2",{children:"[GEOCRYPT]"}),(0,r.jsx)("h4",{children:" Encrypt & Decrypt the easy way"}),(0,r.jsxs)("div",{className:p().card,children:[(0,r.jsx)(m.fh,{style:{background:"white"},maxFileSize:25e7,onChange:e=>{if(new Set(e.map(e=>e.name)).size!==e.length)return o(e.filter((e,n,t)=>t.findIndex(n=>n.name===e.name)===n)),alert("Files cannot have duplicate names, duplicates will be removed in download");o(e)},value:i,children:i.map(e=>(0,r.jsx)(m.Q$,{...e,onDelete:l,info:!0},e.id))}),(0,r.jsx)("label",{htmlFor:"password1",children:"Password "}),(0,r.jsx)("input",{ref:e,type:"text",id:"password1",placeholder:"Enter password"}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{htmlFor:"password2",children:"Confirm Password "}),(0,r.jsx)("input",{ref:n,type:"text",id:"password2",placeholder:"Confirm password"}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{ref:t}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:()=>u(),children:"Encrypt files and download"})]}),(0,r.jsx)("div",{className:p().description,children:(0,r.jsx)("div",{children:(0,r.jsxs)("p",{children:["If you're looking for the old version",(0,r.jsx)(y(),{className:p().link,href:"/old",children:"it's here"}),"May not work well with firefox"]})})}),(0,r.jsxs)("div",{className:p().grid,children:[(0,r.jsxs)("div",{className:p().card,children:[(0,r.jsxs)("h2",{children:["Secure ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"Your files will be compressed and encrypted with AES-CTR, an industry-standard security algorithm"})]}),(0,r.jsxs)("div",{className:p().card,children:[(0,r.jsxs)("h2",{children:["Simple ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"The emitted HTML file can be decrypted by anyone with a modern browser, even offline(once necessary libraries have loaded). Be sure to share the password through a secure channel."})]}),(0,r.jsxs)("div",{className:p().card,children:[(0,r.jsxs)("h2",{children:["Is this legal? ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"Some nations have laws against encryption, such as Australia. We don't care about your location, so use at your own risk. We are not responsible for data loss, illegal use, or any other damages."})]}),(0,r.jsxs)("div",{className:p().card,children:[(0,r.jsxs)("h2",{children:["How can I support this? ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("iframe",{id:"kofiframe",src:"https://ko-fi.com/edisys/?hidefeed=true&widget=true&embed=true&preview=true",style:{border:"none",width:"100%",padding:"4px",background:"#f9f9f9"},title:"edisys"})]}),(0,r.jsx)(c(),{src:"/edisys.png",alt:"edisys logo",width:"200",height:"100"})]})]})]})}j.is().min(8).is().max(100).has().uppercase().has().lowercase().has().digits(2).has().not().spaces()},59854:function(e){e.exports={main:"Home_main__EtNt2",link:"Home_link__Z_A7p",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",center:"Home_center__V0nxp",logo:"Home_logo__80mSr",content:"Home_content___fOQz",vercelLogo:"Home_vercelLogo__lhIxO",rotate:"Home_rotate__99GkW"}}},function(e){e.O(0,[77,373,720,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);