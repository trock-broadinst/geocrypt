(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(90921)}])},90921:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var r=t(85893),s=t(22274),i=t.n(s),l=t(9008),o=t.n(l),a=t(25675),c=t.n(a),d=t(59854),h=t.n(d),u=t(67294),p=t(84841),m=t(38486),f=t.n(m);t(81486);var x=t(23921),w=t(63888);let b=e=>{let n=Math.floor(e/1e6);return n<1?"".concat(Math.floor(e/1e3),"Kb"):"".concat(n,"Mb")},g=e=>{let{files:n,setFiles:t}=e,[s,i]=u.useState(0),l=e=>{let n=e.reduce((e,n)=>e+n.size,0);if(n>25e7)return alert("Total file size cannot exceed 250MB");i(n)},o=e=>{let r=[...Array.from(e),...n];return new Set(r.map(e=>e.name)).size!==r.length&&(r=r.filter((e,n,t)=>t.findIndex(n=>n.name===e.name)===n),alert("Files cannot have duplicate names, duplicates will be removed in download")),l(r),t(r)},a=e=>{let r=n.filter(n=>n.name!==e);l(r),t(r)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(w.b,{multiple:!0,required:!0,handleChange:o,name:"file",children:(0,r.jsxs)("div",{className:h().uploadbox,children:["Drag & Drop files here ",(0,r.jsxs)("p",{children:[b(s),"/250MB"]})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:h().filelistcontainer,children:n.length>0&&n.map(e=>(0,r.jsxs)("div",{className:h().filelistbox,children:[e.name," ",(0,r.jsxs)("p",{children:[b(e.size)," "]}),(0,r.jsx)("button",{className:h().bigbutton,style:{padding:"0.3em"},onClick:()=>a(e.name),children:"✖"}),(0,r.jsx)("hr",{})]},e.name))})]})};var y=t(54155),j=t.n(y);let _=new(j());_.is().min(8).is().max(100).has().uppercase().has().lowercase().has().digits(2).has().not().spaces();let v=e=>{let{setPassword:n}=e,t=u.useRef(null),s=u.useRef(null),i=u.useRef(null),[l,o]=u.useState(!1),a=()=>{var e,r;let l=null===(e=t.current)||void 0===e?void 0:e.value,o=null===(r=s.current)||void 0===r?void 0:r.value,a=i.current,c=e=>{a&&(a.innerHTML="",e.forEach(e=>{let n=document.createElement("p");n.setAttribute("style","color: red"),n.innerHTML=e,a.appendChild(n)}))};if(!l||!o)return n(void 0),c(["please confirm password"]);if(l!==o)return n(void 0),c(["passwords do not match"]);{let e=_.validate(l,{details:!0});return"boolean"!=typeof e&&e.length>0?(n(void 0),c(e.map(e=>e.message))):(a&&(a.innerHTML=""),n(l))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("input",{ref:t,type:l?"text":"password",id:"password1",className:h().textbox,style:{marginBottom:"0.5rem"},onChange:a,placeholder:"Enter password"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{ref:s,type:l?"text":"password",id:"password2",className:h().textbox,style:{marginBottom:"0.5rem"},onChange:a,placeholder:"Confirm password"}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{style:{width:"100%"},onClick:()=>o(!l),children:"⏿"}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{ref:i}),(0,r.jsx)("br",{})]})};var E=t(41664),k=t.n(E);let N=()=>(0,r.jsxs)("div",{className:h().grid,children:[(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Secure ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"Your files will be compressed and encrypted with AES-CTR, an industry-standard security algorithm"})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Simple ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"The emitted HTML file can be decrypted by anyone with a modern browser, even offline(once necessary libraries have loaded). Be sure to share the password through a secure channel."})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Is this legal? ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"Some nations have laws against encryption, such as Australia. We don't care about your location, so use at your own risk. We are not responsible for data loss, illegal use, or any other damages."})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["How can I support this? ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)(k(),{className:h().link,href:"https://ko-fi.com/edisys/?hidefeed=true&widget=true&embed=true&preview=true",children:"With Ko-fi"}),(0,r.jsx)("p",{children:"supporting will ensure that"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"GeoCrypt stays online"}),(0,r.jsx)("li",{children:"GeoCrypt gets a new WASM port that allows larger files"})]})]}),(0,r.jsx)("br",{}),"copyright 2023",(0,r.jsx)(c(),{src:"/edisys.png",alt:"edisys logo",width:"200",height:"100"})]});var C=t(21876).Buffer;function H(){let[e,n]=u.useState([]),[t,s]=u.useState(void 0),[l,a]=u.useState(!1),d=u.useRef(null),m=u.useRef(null),w=e=>{e&&(d.current=e)},b=e=>{e&&(m.current=e)};u.useEffect(()=>{let e=e=>{"Enter"===e.key&&y()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}});let y=async()=>{if(void 0!==t&&await a(!0),e.length<1||!d.current||!m.current){a(!1);return}d.current.value=0,d.current.max=0;let n=new AbortController,r=n.signal;m.current.onclick=()=>{a(!1),n.abort("Aborted by user")};let s={password:t,signal:r,onstart(e){d.current&&(d.current.max=e)},onprogress(e,n){d.current&&(d.current.value=e,d.current.max=n)}},i=new p._Q(new p.U5("application/zip"),{bufferedWrite:!0}),l=e.map(e=>e&&i.add(e.name,new p.Nt(e),s));await (0,x.Kr)({suggestedName:"geocrypt-".concat(Date.now().toString(),".html"),accepts:[{accept:{"text/html":[".html"]}}],excludeAcceptAllOption:!1}).then(e=>e.createWritable()).then(e=>Promise.all(l).then(()=>e.write('<!DOCTYPE html>\n<html>\n\n<head>\n    <title>Unlock GeoCrypt</title>\n    <script src="https://cdn.jsdelivr.net/gh/gildas-lormeau/zip.js@2.7.6/dist/zip-full.min.js"\n        integrity="sha384-kP13zeVm0yhzyaXbBlr4UV6cM9+M8TUBI7j2A6z2mVgyxTqchjok1k1mQGI8Le5C"\n        crossorigin="anonymous" referrerpolicy="no-referrer"></script>\n    <script>\n        const version = "2.0.0";\n        const blobString = "data:application/zip;base64,')).then(()=>{if(!d.current||!m.current)throw Error("progressBar or cancelButton is null");d.current.max=10,d.current.value=2}).then(()=>i.close()).then(e=>e.arrayBuffer()).then(e=>f().encode(C.from(e))).then(n=>e.write(n)).then(()=>{if(!d.current||!m.current)throw Error("progressBar or cancelButton is null");d.current.max=10,d.current.value=8}).then(()=>e.write('";\nconst loadFiles = async () => {\n    const gcPassword = document.getElementById("passwordBox").value;\n    fetch(blobString)\n        .then(res => res.blob())\n        .then(fileBlob => {\n            if (fileBlob) {\n                const zipFileReader = new window.zip.BlobReader(fileBlob);\n                const zipReader = new window.zip.ZipReader(zipFileReader);\n\n                zipReader.getEntries().then((zipFiles) => {\n                    document.getElementById("fileList").innerHTML = "";\n                    zipFiles.forEach(async function (file) {\n                        const link = document.createElement("a");\n                        link.href = "#";\n                        link.onclick = function () {\n                            if (!file.getData) return;\n                            const writer = new window.zip.BlobWriter();\n                            file.getData(writer, { password: gcPassword }).then(function (fileData) {\n                                const anchor = document.createElement("a");\n                                const clickEvent = new MouseEvent("click");\n                                anchor.href = URL.createObjectURL(fileData);\n                                anchor.download = file.filename;\n                                anchor.dispatchEvent(clickEvent);\n                            }).catch(err => alert(err));\n                        };\n                        link.innerHTML = file.filename;\n                        const listEl = document.createElement("li")\n                        listEl.appendChild(link);\n                        document.getElementById("fileList").appendChild(listEl);\n                    });\n                });\n                // await zipReader.close();//TODO: you may not be able to close this because files would need loading\n            }\n        })\n}\n</script>\n</head>\n<style>\nbody {\nfont-family: tahoma;\nborder: 1px solid black;\nwidth: 30%;\nmargin: auto;\n}\n</style>\n\n<body>\n<h1>Open GeoCrypt</h1>\n<p>Enter GeoCrypt Password.</p><input type="text" id="passwordBox" name="passwordBox"\nplaceholder="Type Password Here"> <button onclick="loadFiles()">Open</button>\n<ol id="fileList"></ol>\n<hr>\n<a href="https://geocrypt.me">Made with GeoCrypt</a>\n<p>warning: may not work with large files on firefox</p>\n</body>\n<script>\ndocument.getElementById("passwordBox").addEventListener("keypress", function(event) {\n    if (event.key === "Enter") {\n      event.preventDefault();\n      loadFiles()\n    }\n});\n</script>\n</html>')).then(()=>e.close())).then(()=>alert("Download complete")).finally(()=>a(!1)).catch(e=>{a(!1),alert(e)})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"GeoCrypt"}),(0,r.jsx)("meta",{name:"description",content:"Encrypt files online free"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/geoCrypt.svg"})]}),(0,r.jsxs)("main",{className:"".concat(h().main," ").concat(i().className),children:[(0,r.jsx)(c(),{src:"/geoCrypt.svg",alt:"GeoCrypt Logo",width:300,height:300,priority:!0}),(0,r.jsx)("h2",{children:"[GEOCRYPT]"}),(0,r.jsx)("h4",{children:" Encrypt & Decrypt the easy way"}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:h().card,style:{width:"30em"},children:[(0,r.jsx)("br",{}),(0,r.jsx)(g,{setFiles:n,files:e}),(0,r.jsx)("br",{}),(0,r.jsx)(v,{setPassword:s}),l?(0,r.jsxs)("span",{style:{width:"100%"},children:[(0,r.jsx)("progress",{ref:w,className:h().progressbar}),(0,r.jsx)("button",{ref:b,className:h().bigbutton,title:"abort",children:"✖"})]}):(0,r.jsx)("button",{className:h().bigbutton,style:{width:"100%"},onClick:()=>y(),children:"Encrypt files and download"})]}),(0,r.jsx)("br",{}),(0,r.jsx)("h2",{className:h().description,children:(0,r.jsx)("div",{children:"Warning: it is not advised to use firefox for this website"})}),(0,r.jsx)("br",{}),(0,r.jsx)(N,{})]})]})}},59854:function(e){e.exports={filelistcontainer:"Home_filelistcontainer__222L3",progressbar:"Home_progressbar__9HRdq",progressAnimationStrike:"Home_progressAnimationStrike___bMsb",uploadbox:"Home_uploadbox__6rcxZ",filelistbox:"Home_filelistbox__wLtPd",textbox:"Home_textbox__rItia",bigbutton:"Home_bigbutton__Wnj2t",main:"Home_main__EtNt2",link:"Home_link__Z_A7p",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",center:"Home_center__V0nxp",logo:"Home_logo__80mSr",content:"Home_content___fOQz",vercelLogo:"Home_vercelLogo__lhIxO",rotate:"Home_rotate__99GkW"}}},function(e){e.O(0,[420,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);