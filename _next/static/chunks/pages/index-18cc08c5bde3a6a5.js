(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(29269)}])},29269:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return C}});var r=t(85893),i=t(22274),s=t.n(i),a=t(9008),l=t.n(a),o=t(25675),c=t.n(o),d=t(59854),h=t.n(d),p=t(67294),m=t(54155),u=t.n(m),f=t(41664),x=t.n(f),w=t(84841),b=t(38486),y=t.n(b);t(81486);var g=t(23921),j=t(63888);let v=e=>{let n=Math.floor(e/1e6);return n<1?"".concat(Math.floor(e/1e3),"Kb"):"".concat(n,"Mb")},_=e=>{let{files:n,setFiles:t}=e,[i,s]=p.useState(0),a=e=>{let n=Array.from(e),r=n.reduce((e,n)=>e+n.size,0);return r>25e7?alert("Total file size cannot exceed 250MB"):(s(r),new Set(n.map(e=>e.name)).size!==n.length)?(t(n.filter((e,n,t)=>t.findIndex(n=>n.name===e.name)===n)),alert("Files cannot have duplicate names, duplicates will be removed in download")):void t(n)},l=e=>{t(n.filter(n=>n.name!==e))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.b,{multiple:!0,required:!0,handleChange:a,name:"file",children:(0,r.jsxs)("div",{className:h().uploadbox,children:["Drag & Drop files here ",(0,r.jsxs)("p",{children:[v(i),"/250MB"]})]})}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{className:h().card,style:{height:"15em",width:"20em",overflow:"overlay"},children:n.length>0&&n.map(e=>(0,r.jsxs)("div",{className:h().filelistbox,children:[e.name," ",(0,r.jsxs)("p",{children:[v(e.size)," ",(0,r.jsx)("button",{onClick:()=>l(e.name),children:"✖"})]}),(0,r.jsx)("hr",{})]},e.name))})]})};var E=t(21876).Buffer;let k=new(u());function C(){let e=p.useRef(null),n=p.useRef(null),t=p.useRef(null),[i,a]=p.useState([]),o=()=>{var r,i;let s=null===(r=e.current)||void 0===r?void 0:r.value,a=null===(i=n.current)||void 0===i?void 0:i.value,l=t.current,o=!1,c=e=>{l&&(o=!0,l.innerHTML="",e.forEach(e=>{let n=document.createElement("p");n.setAttribute("style","color: red"),n.innerHTML=e,l.appendChild(n)}))};if(!s||!a)return c(["please confirm password"]);if(s!==a)return c(["passwords do not match"]);let d=k.validate(s,{details:!0});if("boolean"!=typeof d&&d.length>0&&c(d.map(e=>e.message)),!o)return s};p.useEffect(()=>{let e=e=>{"Enter"===e.key&&d()};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}});let d=async()=>{var e;let n=o();if(!n||!t.current)return;let r=await (0,g.Kr)({suggestedName:"geocrypt-".concat(Date.now().toString(),".html"),accepts:[{accept:{"text/html":[".html"]}}],excludeAcceptAllOption:!1}),s=await r.createWritable();t.current.innerHTML="";let a=document.createElement("progress");a.value=0,a.max=0,t.current.appendChild(a);let l=new AbortController,c=l.signal,d=document.createElement("button");d.onclick=()=>{l.abort("Aborted by user"),a.remove(),d.remove(),h.remove()},d.textContent="✖",d.title="Abort",t.current.appendChild(d);let h=document.createElement("p");h.textContent="Compressing...",null===(e=t.current)||void 0===e||e.appendChild(h);let p={password:n,signal:c,onstart(e){a.max=e},onprogress(e,n){a.value=e,a.max=n}},m=new w._Q(new w.U5("application/zip"),{bufferedWrite:!0});await Promise.all(i.map(e=>e&&m.add(e.name,new w.Nt(e),p))),await s.write('<!DOCTYPE html>\n<html>\n\n<head>\n    <title>Unlock GeoCrypt</title>\n    <script src="https://cdn.jsdelivr.net/gh/gildas-lormeau/zip.js@2.7.6/dist/zip-full.min.js"\n        integrity="sha384-kP13zeVm0yhzyaXbBlr4UV6cM9+M8TUBI7j2A6z2mVgyxTqchjok1k1mQGI8Le5C"\n        crossorigin="anonymous" referrerpolicy="no-referrer"></script>\n    <script>\n        const version = "2.0.0";\n        const blobString = "data:application/zip;base64,'),await m.close().then(e=>e.arrayBuffer()).then(e=>y().encode(E.from(e))).then(e=>s.write(e)).then(()=>s.write('";\nconst loadFiles = async () => {\n    const gcPassword = document.getElementById("passwordBox").value;\n    fetch(blobString)\n        .then(res => res.blob())\n        .then(fileBlob => {\n            if (fileBlob) {\n                const zipFileReader = new window.zip.BlobReader(fileBlob);\n                const zipReader = new window.zip.ZipReader(zipFileReader);\n\n                zipReader.getEntries().then((zipFiles) => {\n                    document.getElementById("fileList").innerHTML = "";\n                    zipFiles.forEach(async function (file) {\n                        const link = document.createElement("a");\n                        link.href = "#";\n                        link.onclick = function () {\n                            if (!file.getData) return;\n                            const writer = new window.zip.BlobWriter();\n                            file.getData(writer, { password: gcPassword }).then(function (fileData) {\n                                const anchor = document.createElement("a");\n                                const clickEvent = new MouseEvent("click");\n                                anchor.href = URL.createObjectURL(fileData);\n                                anchor.download = file.filename;\n                                anchor.dispatchEvent(clickEvent);\n                            }).catch(err => alert(err));\n                        };\n                        link.innerHTML = file.filename;\n                        const listEl = document.createElement("li")\n                        listEl.appendChild(link);\n                        document.getElementById("fileList").appendChild(listEl);\n                    });\n                });\n                // await zipReader.close();//TODO: you may not be able to close this because files would need loading\n            }\n        })\n}\n</script>\n</head>\n<style>\nbody {\nfont-family: tahoma;\nborder: 1px solid black;\nwidth: 30%;\nmargin: auto;\n}\n</style>\n\n<body>\n<h1>Open GeoCrypt</h1>\n<p>Enter GeoCrypt Password.</p><input type="text" id="passwordBox" name="passwordBox"\nplaceholder="Type Password Here"> <button onclick="loadFiles()">Open</button>\n<ol id="fileList"></ol>\n<hr>\n<a href="https://geocrypt.me">Made with GeoCrypt</a>\n<p>warning: may not work with large files on firefox</p>\n</body>\n<script>\ndocument.getElementById("passwordBox").addEventListener("keypress", function(event) {\n    if (event.key === "Enter") {\n      event.preventDefault();\n      loadFiles()\n    }\n});\n</script>\n</html>')).then(()=>s.close()).finally(()=>{a.remove(),d.remove(),h.remove()}).catch(e=>alert(e))};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l(),{children:[(0,r.jsx)("title",{children:"GeoCrypt"}),(0,r.jsx)("meta",{name:"description",content:"Encrypt files online free"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/geoCrypt.svg"})]}),(0,r.jsxs)("main",{className:"".concat(h().main," ").concat(s().className),children:[(0,r.jsx)(c(),{src:"/geoCrypt.svg",alt:"GeoCrypt Logo",width:300,height:300,priority:!0}),(0,r.jsx)("h2",{children:"[GEOCRYPT]"}),(0,r.jsx)("h4",{children:" Encrypt & Decrypt the easy way"}),(0,r.jsx)("br",{}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsx)("br",{}),(0,r.jsx)(_,{setFiles:a,files:i}),(0,r.jsx)("input",{ref:e,type:"text",id:"password1",className:h().textbox,placeholder:"Enter password"}),(0,r.jsx)("br",{}),(0,r.jsx)("input",{ref:n,type:"text",id:"password2",className:h().textbox,placeholder:"Confirm password"}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{ref:t}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{className:h().bigbutton,onClick:()=>d(),children:"Encrypt files and download"})]}),(0,r.jsx)("h2",{className:h().description,children:(0,r.jsx)("div",{children:"Warning: it is not advised to use firefox for this website"})}),(0,r.jsxs)("div",{className:h().grid,children:[(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Secure ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"Your files will be compressed and encrypted with AES-CTR, an industry-standard security algorithm"})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Simple ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"The emitted HTML file can be decrypted by anyone with a modern browser, even offline(once necessary libraries have loaded). Be sure to share the password through a secure channel."})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Is this legal? ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"Some nations have laws against encryption, such as Australia. We don't care about your location, so use at your own risk. We are not responsible for data loss, illegal use, or any other damages."})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["How can I support this? ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)(x(),{className:h().link,href:"https://ko-fi.com/edisys/?hidefeed=true&widget=true&embed=true&preview=true",children:"With Ko-fi"}),(0,r.jsx)("p",{children:"supporting will ensure that"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"GeoCrypt stays online"}),(0,r.jsx)("li",{children:"GeoCrypt gets a new WASM port that allows larger files"})]})]}),(0,r.jsx)("br",{}),"copyright 2023",(0,r.jsx)(c(),{src:"/edisys.png",alt:"edisys logo",width:"200",height:"100"})]})]})]})}k.is().min(8).is().max(100).has().uppercase().has().lowercase().has().digits(2).has().not().spaces()},59854:function(e){e.exports={uploadbox:"Home_uploadbox__6rcxZ",filelistbox:"Home_filelistbox__wLtPd",textbox:"Home_textbox__rItia",bigbutton:"Home_bigbutton__Wnj2t",main:"Home_main__EtNt2",link:"Home_link__Z_A7p",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",center:"Home_center__V0nxp",logo:"Home_logo__80mSr",content:"Home_content___fOQz",vercelLogo:"Home_vercelLogo__lhIxO",rotate:"Home_rotate__99GkW"}}},function(e){e.O(0,[420,774,888,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);