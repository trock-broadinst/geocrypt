(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[491],{2587:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/index-new",function(){return t(3677)}])},3677:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(5893),i=t(762),s=t.n(i),o=t(9008),a=t.n(o),l=t(5675),c=t.n(l),d=t(9854),h=t.n(d),p=t(7294),m=t(4974),u=t(4155),f=t.n(u),w=t(1664),x=t.n(w),y=t(4841),g=t(1876).Buffer;let b=new(f());function j(){let e=p.useRef(null),n=p.useRef(null),t=p.useRef(null),[i,o]=p.useState([]),l=e=>{o(i.filter(n=>n.id!==e))},d=()=>{var r,i;let s=null===(r=e.current)||void 0===r?void 0:r.value,o=null===(i=n.current)||void 0===i?void 0:i.value,a=t.current,l=e=>{a&&(a.innerHTML="",e.forEach(e=>{let n=document.createElement("p");n.setAttribute("style","color: red"),n.innerHTML=e,a.appendChild(n)}))};if(!s||!o)return l(["please confirm password"]);if(s!==o)return l(["passwords do not match"]);let c=b.validate(s,{details:!0});return"boolean"!=typeof c&&l(c.map(e=>e.message)),s},u=async()=>{let e=d();if(!e||!t.current)return;t.current.innerHTML="";let n=document.createElement("progress");n.value=0,n.max=0,t.current.appendChild(n);let r=new AbortController,s=r.signal,o=document.createElement("button");o.onclick=()=>r.abort(),o.textContent="✖",o.title="Abort",t.current.appendChild(o);let a={password:e,signal:s,onstart(e){var r;let i=document.createElement("p");i.textContent="Compressing...",null===(r=t.current)||void 0===r||r.appendChild(i),n.max=e},onprogress(e,t){n.value=e,n.max=t}},l=new y._Q(new y.U5("application/zip"));await Promise.all(i.map(e=>e.file&&l.add(e.file.name,new y.Nt(e.file),a))),await l.close().then(e=>{t.current.innerHTML="",f(e).then(async e=>{let n=g.concat([g.from('<!DOCTYPE html>\n<html>\n\n<head>\n    <title>Unlock GeoCrypt</title>\n    <script src="https://cdn.jsdelivr.net/gh/gildas-lormeau/zip.js@2.7.6/dist/zip-full.min.js"\n        integrity="sha384-kP13zeVm0yhzyaXbBlr4UV6cM9+M8TUBI7j2A6z2mVgyxTqchjok1k1mQGI8Le5C"\n        crossorigin="anonymous" referrerpolicy="no-referrer"></script>\n    <script>\n        const version = "2.0.0";\n        const blobString = "'),g.from(e),g.from('";\nconst loadFiles = async () => {\n    var gcPassword = document.getElementById("passwordBox").value;\n    fetch(blobString)\n        .then(res => res.blob())\n        .then(fileBlob => {\n            if (fileBlob) {\n                const zipFileReader = new window.zip.BlobReader(fileBlob);\n                const zipReader = new window.zip.ZipReader(zipFileReader);\n\n                zipReader.getEntries().then((zipFiles) => {\n                    zipFiles.forEach(async function (file) {\n                        const link = document.createElement("a");\n                        link.href = "#";\n                        link.onclick = function () {\n                            if (!file.getData) return;\n                            const writer = new window.zip.BlobWriter();\n                            file.getData(writer, { password: gcPassword }).then(function (fileData) {\n                                const anchor = document.createElement("a");\n                                const clickEvent = new MouseEvent("click");\n                                anchor.href = URL.createObjectURL(fileData);\n                                anchor.download = file.filename;\n                                anchor.dispatchEvent(clickEvent);\n                            });\n                        };\n                        link.innerHTML = file.filename;\n                        const listEl = document.createElement("li")\n                        listEl.appendChild(link);\n                        document.getElementById("fileList").appendChild(listEl);\n                    });\n                });\n                // await zipReader.close();//TODO: you may not be able to close this because files would need loading\n            }\n        })\n}\n</script>\n</head>\n<style>\nbody {\nfont-family: tahoma;\nborder: 1px solid black;\nwidth: 30%;\nmargin: auto;\n}\n</style>\n\n<body>\n<h1>Open GeoCrypt</h1>\n<p>Enter GeoCrypt Password.</p><input type="text" id="passwordBox" name="passwordBox"\nplaceholder="Type Password Here"> <button onclick="loadFiles()">Open</button>\n<ol id="fileList"></ol>\n<hr>\n<a href="https://geocrypt.me">Made with GeoCrypt</a>\n</html>')]),t=new File([n],"geocrypt-".concat(Date.now().toString(),".html")),r=document.createElement("a"),i=new MouseEvent("click");r.href=URL.createObjectURL(t),r.download="geocrypt-".concat(Date.now().toString(),".html"),r.dispatchEvent(i)})})},f=e=>new Promise((n,t)=>{let r=new FileReader;r.readAsDataURL(e),r.onload=()=>r.result&&n(r.result.toString()),r.onerror=e=>t(e)});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"GeoCrypt"}),(0,r.jsx)("meta",{name:"description",content:"Encrypt files online free"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.svg"})]}),(0,r.jsxs)("main",{className:"".concat(h().main," ").concat(s().className),children:[(0,r.jsx)("div",{className:h().description,children:(0,r.jsxs)("div",{children:[(0,r.jsx)(c(),{src:"/geoCrypt.svg",alt:"GeoCrypt Logo",width:300,height:300,priority:!0}),(0,r.jsx)("p",{children:"$[GEOCRYPT] ▶ Encrypt & Decrypt the easy way"}),(0,r.jsxs)("p",{children:["If you're looking for the old version",(0,r.jsx)(x(),{className:h().link,href:"/old",children:"it's here"})]})]})}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsx)(m.fh,{style:{background:"white"},maxFileSize:1073741824,onChange:o,validator:e=>e.size>53687091.2?{valid:!1,errors:["File too large, cannot be larger than 50mb"]}:{valid:!0},value:i,children:i.map(e=>(0,r.jsx)(m.Q$,{...e,onDelete:l,info:!0},e.id))}),(0,r.jsx)("label",{htmlFor:"password1",children:"Password "}),(0,r.jsx)("input",{ref:e,type:"text",id:"password1",placeholder:"Enter password"}),(0,r.jsx)("br",{}),(0,r.jsx)("label",{htmlFor:"password2",children:"Confirm Password "}),(0,r.jsx)("input",{ref:n,type:"text",id:"password2",placeholder:"Confirm password"}),(0,r.jsx)("br",{}),(0,r.jsx)("div",{ref:t}),(0,r.jsx)("br",{}),(0,r.jsx)("button",{onClick:()=>u(),children:"Encrypt files and download"})]}),(0,r.jsxs)("div",{className:h().grid,children:[(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Secure ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"Your files will be compressed and encrypted with AES-CTR, an industry-standard security algorithm"})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Simple ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"The emitted HTML file can be decrypted by anyone with a modern browser, even offline(once necessary libraries have loaded). Be sure to share the password through a secure channel."})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["Is this legal? ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("p",{children:"Some nations have laws against encryption, such as Australia. We don't care about your location, so use at your own risk. We are not responsible for data loss, illegal use, or any other damages."})]}),(0,r.jsxs)("div",{className:h().card,children:[(0,r.jsxs)("h2",{children:["How can I support this? ",(0,r.jsx)("span",{children:"⤵"})]}),(0,r.jsx)("iframe",{id:"kofiframe",src:"https://ko-fi.com/edisys/?hidefeed=true&widget=true&embed=true&preview=true",style:{border:"none",width:"100%",padding:"4px",background:"#f9f9f9"},height:"712",title:"edisys"})]})]})]})]})}b.is().min(8).is().max(100).has().uppercase().has().lowercase().has().digits(2).has().not().spaces()},9854:function(e){e.exports={main:"Home_main__EtNt2",link:"Home_link__Z_A7p",description:"Home_description__Qwq1f",code:"Home_code__aGV0U",grid:"Home_grid__c_g6N",card:"Home_card__7oz7W",center:"Home_center__V0nxp",logo:"Home_logo__80mSr",content:"Home_content___fOQz",vercelLogo:"Home_vercelLogo__lhIxO",rotate:"Home_rotate__99GkW"}}},function(e){e.O(0,[77,757,485,774,888,179],function(){return e(e.s=2587)}),_N_E=e.O()}]);